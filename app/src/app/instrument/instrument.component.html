<!-- 
<table mat-table [dataSource]="instruments$" class="mat-elevation-z8">
<ng-container matColumnDef="id">
    <th mat-header-cell *matHeaderCellDef> id </th>
    <td mat-cell *matCellDef="let element"> {{element.id}} </td>
  </ng-container>


  <ng-container matColumnDef="Name">
    <th mat-header-cell *matHeaderCellDef> name </th>
    <td mat-cell *matCellDef="let element"> {{element.name | titlecase}} </td>
  </ng-container>

  <ng-container matColumnDef="Description">
    <th mat-header-cell *matHeaderCellDef> description </th>
    <td mat-cell *matCellDef="let element"> {{element.description}} </td>
  </ng-container>

  <ng-container matColumnDef="Image" >
    <th mat-header-cell *matHeaderCellDef> img </th>
    <td mat-cell *matCellDef="let element" > <img src ={{element.img}} alt = "not found :("/> </td>
  </ng-container>

  <ng-container matColumnDef="Famille">
    <th mat-header-cell *matHeaderCellDef> famille </th>
    <td mat-cell *matCellDef="let element"> {{element.familleId | famille}} </td>
  </ng-container>

  <ng-container matColumnDef="Origine">
    <th mat-header-cell *matHeaderCellDef> Origine </th>
    <td mat-cell *matCellDef="let element"> <p>{{element.origin}}</p><app-country [name] = "element.origin"></app-country> </td>
  </ng-container>
  
  <tr mat-header-row *matHeaderRowDef="displayedColumns" ></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;" routerLink="/instruments/{{row.name}}"></tr>
</table> -->
<div id="searchbar" fxLayout="row wrap" fxLayoutAlign="space-between center">
  <input
    id="search"
    placeholder="search an instrument"
    [(ngModel)]="search"
    type="search"
    (keyup)="onKey($event)"
  />
  <mat-paginator
    [length]="instruments.length"
    [pageSize]="12"
    (page)="getPaginatorData($event)"
    [pageSizeOptions]="[8, 12, 25, 100]"
  ></mat-paginator>
</div>
<div
  fxLayout="row wrap"
  fxLayoutGap="20px grid"
  *ngIf="instruments && this.authService.isLoggedIn()"
  id="grid"
>
  <div
    fxFlex="25%"
    fxFlex.md="33"
    fxFlex.sm="50"
    fxFlex.xs="100"
    *ngFor="
      let instrument of instruments | filter: search | slice: lowValue:highValue
    "
  >
    <mat-card routerLink="/instruments/{{ instrument.name }}">
      <mat-card-header>
        <mat-card-title>{{ instrument.name | titlecase }}</mat-card-title>

        <mat-card-subtitle>{{
          instrument.familleId | famille
        }}</mat-card-subtitle>
      </mat-card-header>
      <img
        mat-card-image
        src="{{ instrument.img }}"
        alt="{{ instrument.name }}"
        class="image"
      />
      <mat-card-content>
        <p>{{ instrument.description | resume }}</p>
      </mat-card-content>
    </mat-card>
  </div>
</div>
<div *ngIf="!this.authService.isLoggedIn()" id="unlogged">
  <p>Veuillez vous connecter pour accéder à ce contenu.</p>
</div>
